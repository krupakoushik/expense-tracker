{% extends "base.html" %}

{% block title %} Edit Transaction {% endblock %}

{% block content %}

<div>
    <h1>Edit Transaction</h1>
    <form method="POST" action="{{ url_for('views.edit', id=txn.id) }}">

        <label for="date">Date:</label>
        <input type="date" name="date" value="{{ txn.txn_date.strftime('%Y-%m-%d') if txn.txn_date else '' }}" required><br><br>
        
        <label for="txn">Type:</label>
        <select name="txn" required>
            <option value="CREDIT" {% if txn.txn == 'CREDIT' %}selected{% endif %}>Credit</option>
            <option value="DEBIT" {% if txn.txn == 'DEBIT' %}selected{% endif %}>Debit</option>
        </select><br><br>
        
        <label for="amount">Amount:</label>
        <input type="number" step="0.01" name="amount"  value="{{ txn.amount }}" required><br><br>

        <label for="category_id">Category:</label>
        <select name="category_id" value="{{ txn.category.name }}">
            {% for cat in categories %}
                <option value="{{ cat.id }}" {% if txn.category_id == cat.id %}selected{% endif %}>
                    {{ cat.name }}
                </option>
            {% endfor %}
        </select><br><br>

        <label for="note">Note:</label>
        <input type="text" name="note"  value="{{ txn.note }}" ><br><br>
        <br><br>
        <input type="submit" value="Update Transaction">
    </form>
    <br>

</div>


{% endblock %}